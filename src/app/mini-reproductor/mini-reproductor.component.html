<div *ngIf="user" class="mini-player fixed-bottom">
  <div class="player-container d-flex align-items-center justify-content-between">
    <div *ngIf="song" class="song-info d-flex align-items-center">
      <img [src]="songImage" alt="Portada" class="song-image mr-3">
      <div>
        <p class="song-title">{{ song.nombre }}</p>
        <p class="song-artist">{{ songAutor }}</p>
      </div>
    </div>
    <p *ngIf="!song">No hay canción seleccionada</p>

    <div class="audio-controls d-flex align-items-center">
      <audio id="audioPlayer" autoplay controls class="audio-player" *ngIf="song" (ended)="onAudioEnded($event)">
        <source [src]="song.url" type="audio/mp3">
        <p *ngIf="!song.url">Tu dispositivo no soporta este formato</p>
      </audio>
      <div class="controls d-flex align-items-center">
        <button (click)="previousSong()" class="btn btn-secondary">Anterior</button>
        <button (click)="toggleRepeat()" class="btn btn-secondary">
          {{ isRepeat ? 'Desactivar Repetición' : 'Activar Repetición' }}
        </button>
        <button (click)="nextSong()" class="btn btn-secondary">Siguiente</button>
      </div>
    </div>
  </div>
</div>

